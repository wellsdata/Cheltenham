"0","library(rvest)"
"0","library(tidyverse)"
"0",""
"0","# List of LCCN codes"
"0","lccn_codes <- c(""sn82006687"", ""sn83009667"", ""sn83016107"", ""sn83016209"", "
"0","                ""sn83016348"", ""sn83016368"", ""sn83045462"", ""sn84026688"","
"0","                ""sn85025350"", ""sn85025407"", ""sn85038292"", ""sn88065202"","
"0","                ""sn88065721"", ""sn88065726"", ""sn89060060"", ""sn89060092"","
"0","                ""sn89060124"", ""sn89060136"")"
"0",""
"0","# Function to scrape newspaper name from webpage"
"0","get_newspaper_name_scrape <- function(lccn) {"
"0","  url <- paste0(""https://chroniclingamerica.loc.gov/lccn/"", lccn, ""/"")"
"0","  "
"0","  tryCatch({"
"0","    page <- read_html(url)"
"0","    # Try to find the title"
"0","    title <- page %>% "
"0","      html_element(""title"") %>% "
"0","      html_text()"
"0","    "
"0","    # Clean up the title (usually format is ""Newspaper Name | Chronicling America"")"
"0","    name <- str_split(title, ""\\|"")[[1]][1] %>% str_trim()"
"0","    return(name)"
"0","  }, error = function(e) {"
"0","    message(""Error for "", lccn, "": "", e$message)"
"0","    return(NA)"
"0","  })"
"0","  "
"0","  Sys.sleep(1)  # Be polite"
"0","}"
"0",""
"0","# Get all newspaper names"
"0","newspaper_list <- tibble("
"0","  lccn = lccn_codes"
"0",")"
"0",""
"0","newspaper_list <- newspaper_list %>%"
"0","  mutate(newspaper_name = map_chr(lccn, get_newspaper_name_scrape))"
"1","[1m[33mError[39m in `mutate()`:[22m
[38;5;254m[36mâ„¹[38;5;254m In argument: `newspaper_name = map_chr(lccn, get_newspaper_name_scrape)`.[39m
[1mCaused by error in `map_chr()`:[22m
[38;5;254m[36mâ„¹[38;5;254m In index: 1.[39m
[1mCaused by error:[22m
[33m![39m Result must be length 1, not 0.
[90mRun `]8;;x-r-run:rlang::last_trace()rlang::last_trace()]8;;` to see where the error occurred.[39m
"
